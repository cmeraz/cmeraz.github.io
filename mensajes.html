<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Mensajes WhatsApp</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #25D366;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        input[type="text"]:focus {
            border-color: #25D366;
            outline: none;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .btn-generate {
            background-color: #25D366;
            color: white;
        }
        .btn-generate:hover {
            background-color: #128C7E;
        }
        .btn-send {
            background-color: #34B7F1;
            color: white;
        }
        .btn-send:hover {
            background-color: #2196F3;
        }
        .message-preview {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid #25D366;
            border-radius: 5px;
            display: none;
        }
        .message-preview h3 {
            margin-top: 0;
            color: #25D366;
        }
        .help-text {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        .json-output {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📱 Generador de Mensajes WhatsApp</h1>
        
        <div class="form-group">
            <label for="phoneNumber">Número de WhatsApp (con código de país):</label>
            <input type="text" id="phoneNumber" placeholder="Ejemplo: +52 1234567890 o 521234567890">
            <div class="help-text">Ingresa el número con código de país (ej: +521234567890)</div>
        </div>

        <div class="button-group">
            <button class="btn-generate" onclick="generateMessages()">🔄 Generar Mensajes</button>
            <button class="btn-send" onclick="sendRandomMessage()">📤 Enviar Mensaje Aleatorio</button>
        </div>

        <div class="message-preview" id="messagePreview">
            <h3>Vista previa del mensaje:</h3>
            <p id="previewText"></p>
        </div>

        <div class="json-output" id="jsonOutput">
            <h3>Mensajes generados (JSON):</h3>
            <pre id="jsonContent"></pre>
        </div>
    </div>

    <script>
        // ==========================================
        // CONFIGURACIÓN DEL GENERADOR DE MENSAJES
        // ==========================================
        
        /**
         * Plantillas de conversación natural para iniciar mensajes
         * Cada plantilla incluye: saludo, transición y conectores
         */
        const plantillasConversacion = [
            {
                saludo: "Hola, buen día",
                transicion: "hoy hace un excelente día para caminar",
                conectores: ["Aprovechando que", "Por cierto", "Hablando de cosas buenas"]
            },
            {
                saludo: "¡Buenos días!",
                transicion: "espero que hayas descansado bien",
                conectores: ["Ya que estamos en contacto", "Aprovecho para contarte", "Te comento que"]
            },
            {
                saludo: "Hola, ¿cómo estás?",
                transicion: "espero que todo vaya de maravilla por allá",
                conectores: ["Por cierto", "Aprovecho la ocasión", "Te tengo una excelente noticia"]
            },
            {
                saludo: "¡Saludos!",
                transicion: "qué bonito está el día de hoy",
                conectores: ["Hablando de cosas buenas", "Te comento que", "Tengo algo que te puede interesar"]
            },
            {
                saludo: "Buen día",
                transicion: "espero que tengas una semana productiva",
                conectores: ["Precisamente para eso", "Hablando de productividad", "Te tengo algo perfecto"]
            },
            {
                saludo: "Hola",
                transicion: "que tengas una linda mañana llena de bendiciones",
                conectores: ["Y para que sea aún mejor", "Aprovecho para ofrecerte", "Te traigo una oportunidad"]
            },
            {
                saludo: "¡Buenos días!",
                transicion: "se siente la buena energía del día",
                conectores: ["Con esa misma energía", "Aprovechando las buenas vibras", "Te comento que"]
            },
            {
                saludo: "Hola, ¿qué tal?",
                transicion: "espero que hayas empezado la semana con el pie derecho",
                conectores: ["Para seguir con esa buena racha", "Hablando de empezar bien", "Te tengo algo que te gustará"]
            }
        ];

        /**
         * Catálogo de productos disponibles para promoción
         * Incluye productos de tecnología, papelería y oficina
         * IMPORTANTE: Estos productos NO se repiten con la lista anterior
         */
        /**
         * Catálogo de productos disponibles para promoción
         * Incluye productos de tecnología, papelería y oficina
         * IMPORTANTE: Estos productos NO se repiten con la lista anterior
         */
        const productos = [
            // === MEMORIAS USB ===
            {
                nombre: "Memoria USB 64GB versión 2.0 metálica",
                precio: "$110",
                descripcion: "compatible con Windows, Mac y Linux",
                link: "https://tienda.norttek.com.mx/memoria-usb-64gb"
            },
            {
                nombre: "Memoria USB 32GB versión 2.0 metálica",
                precio: "$95",
                descripcion: "compatible con Windows, Mac y Linux",
                link: "https://tienda.norttek.com.mx/memoria-usb-32gb"
            },
            {
                nombre: "Memoria USB 16GB versión 2.0 metálica",
                precio: "$85",
                descripcion: "compatible con Windows, Mac y Linux",
                link: "https://tienda.norttek.com.mx/memoria-usb-16gb"
            },
            {
                nombre: "Memoria USB Adata C906 32GB",
                precio: "$98",
                descripcion: "marca reconocida y confiable",
                link: "https://tienda.norttek.com.mx/memoria-adata-32gb"
            },
            {
                nombre: "Memoria Micro SD 32GB Clase 10 Hiksemi",
                precio: "$90",
                descripcion: "ideal para celular o tablet",
                link: "https://tienda.norttek.com.mx/microsd-32gb"
            },
            {
                nombre: "Memoria microSD NEO 32GB con adaptador",
                precio: "$95",
                descripcion: "ideal para celular o tablet",
                link: "https://tienda.norttek.com.mx/microsd-neo-32gb"
            },
            
            // === MOUSE Y ACCESORIOS ===
            {
                nombre: "Mouse Pad Nextep ergonómico con gel",
                precio: "$152",
                descripcion: "color negro, comodidad garantizada",
                link: "https://tienda.norttek.com.mx/mousepad-ergonomico"
            },
            {
                nombre: "Mouse Pad Nextep individual 6mm",
                precio: "$48",
                descripcion: "color negro, antideslizante",
                link: "https://tienda.norttek.com.mx/mousepad-individual"
            },
            {
                nombre: "Mouse Nextep inalámbrico USB 1600 dpi",
                precio: "$145",
                descripcion: "color negro, baterías incluidas",
                link: "https://tienda.norttek.com.mx/mouse-nextep-inalambrico"
            },
            {
                nombre: "Mouse Nextep inalámbrico ergonómico USB",
                precio: "$145",
                descripcion: "color negro, diseño cómodo",
                link: "https://tienda.norttek.com.mx/mouse-ergonomico"
            },
            {
                nombre: "Kit teclado y mouse inalámbrico MK440 Acteck",
                precio: "$350",
                descripcion: "combo perfecto para tu oficina",
                link: "https://tienda.norttek.com.mx/kit-teclado-mouse"
            },
            {
                nombre: "Mouse Logitech M170 inalámbrico",
                precio: "$325",
                descripcion: "plug and play USB color rojo",
                link: "https://tienda.norttek.com.mx/mouse-logitech-m170"
            },
            {
                nombre: "Mouse Logitech M240 inalámbrico",
                precio: "$450",
                descripcion: "click silencioso Bluetooth USB rosa",
                link: "https://tienda.norttek.com.mx/mouse-logitech-m240"
            },
            {
                nombre: "Mouse UGREEN ultra delgado y silencioso verde",
                precio: "$321",
                descripcion: "inalámbrico, diseño moderno",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-verde"
            },
            {
                nombre: "Mouse UGREEN ultra delgado y silencioso gris",
                precio: "$320",
                descripcion: "inalámbrico, diseño moderno",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-gris"
            },
            {
                nombre: "Mouse UGREEN ultra delgado y silencioso negro",
                precio: "$320",
                descripcion: "inalámbrico, diseño moderno",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-negro"
            },
            {
                nombre: "Mouse UGREEN inalámbrico ergonómico Dusty Pink",
                precio: "$290",
                descripcion: "alcance 10m, silencioso, batería incluida",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-pink"
            },
            {
                nombre: "Mouse UGREEN inalámbrico ergonómico Dusty Blue",
                precio: "$290",
                descripcion: "alcance 10m, silencioso, batería incluida",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-blue"
            },
            {
                nombre: "Mouse UGREEN inalámbrico ergonómico gris",
                precio: "$290",
                descripcion: "alcance 10m, silencioso, batería incluida",
                link: "https://tienda.norttek.com.mx/mouse-ugreen-ergonomico"
            },
            
            // === PEGAMENTOS Y ADHESIVOS ===
            {
                nombre: "Pegamento UHU 35ml",
                precio: "$85",
                descripcion: "calidad alemana, súper resistente",
                link: "https://tienda.norttek.com.mx/pegamento-uhu-35ml"
            },
            {
                nombre: "Pegamento UHU 125ml",
                precio: "$165",
                descripcion: "calidad alemana, rendidor",
                link: "https://tienda.norttek.com.mx/pegamento-uhu-125ml"
            },
            {
                nombre: "Pegamento UHU 20ml",
                precio: "$58",
                descripcion: "calidad alemana, práctico",
                link: "https://tienda.norttek.com.mx/pegamento-uhu-20ml"
            },
            {
                nombre: "Pegamento Resistol 850 35g",
                precio: "$20",
                descripcion: "el clásico que siempre funciona",
                link: "https://tienda.norttek.com.mx/resistol-35g"
            },
            {
                nombre: "Pegamento Resistol 850 55g",
                precio: "$32",
                descripcion: "el clásico que siempre funciona",
                link: "https://tienda.norttek.com.mx/resistol-55g"
            },
            {
                nombre: "Pegamento Kola Loka tubo 2g",
                precio: "$38",
                descripcion: "paquete de tubos prácticos",
                link: "https://tienda.norttek.com.mx/kola-loka-2g"
            },
            {
                nombre: "Pegamento por gotero Kola Loka 3.5g",
                precio: "$35",
                descripcion: "aplicación precisa",
                link: "https://tienda.norttek.com.mx/kola-loka-gotero"
            },
            {
                nombre: "Pegamento blanco Super Kole 440g",
                precio: "$68",
                descripcion: "ideal para trabajos escolares",
                link: "https://tienda.norttek.com.mx/super-kole-440g"
            }
        ];

        /**
         * Frases de cierre para finalizar el mensaje de forma natural
         * Se seleccionan aleatoriamente para variar los mensajes
         */
        const cierresConversacion = [
            "¿Tienes algún pedido pendiente para esta semana?",
            "¿Necesitas que te prepare algún producto para estos días?",
            "¿Hay algo que requieras para tu oficina o negocio esta semana?",
            "¿Tienes alguna necesidad de material que pueda ayudarte a resolver?",
            "¿Cómo vas con tus pedidos de la semana? ¿Necesitas algo más?",
            "¿Hay algún producto que tengas en mente para solicitar?",
            "¿Requieres que te cotice algo específico para tu empresa?",
            "¿Tienes algún proyecto en el que pueda apoyarte con material?",
            "¿Necesitas que te tenga listo algún pedido para entregar esta semana?",
            "¿Hay algo urgente que necesites o algún pedido que deba priorizar?"
        ];

        // Array para almacenar los mensajes generados
        let mensajesGenerados = [];

        /**
         * Genera 20 mensajes conversacionales únicos
         * Combina plantillas, productos y cierres de forma aleatoria
         */
        function generateMessages() {
            mensajesGenerados = [];
            
            // Generar 20 mensajes conversacionales únicos
            for (let i = 0; i < 20; i++) {
                // Seleccionar elementos de forma cíclica para variedad
                const plantilla = plantillasConversacion[i % plantillasConversacion.length];
                const producto = productos[i % productos.length];
                const cierre = cierresConversacion[i % cierresConversacion.length];
                const conector = plantilla.conectores[Math.floor(Math.random() * plantilla.conectores.length)];
                
                // Crear mensaje conversacional fluido con link
                const mensaje = `${plantilla.saludo}, ${plantilla.transicion}. ${conector} tenemos ${producto.nombre} ${producto.descripcion} a ${producto.precio}. Puedes verlo aquí: ${producto.link}. ${cierre}`;
                
                mensajesGenerados.push(mensaje);
            }
            
            // Mostrar en consola como JSON para debugging
            console.log("📋 Mensajes conversacionales generados:");
            console.log(JSON.stringify(mensajesGenerados, null, 2));
            
            // Mostrar en la interfaz
            document.getElementById('jsonOutput').style.display = 'block';
            document.getElementById('jsonContent').textContent = JSON.stringify(mensajesGenerados, null, 2);
            
            alert(`✅ Se han generado ${mensajesGenerados.length} mensajes conversacionales únicos. Revisa la consola del navegador para ver el JSON completo.`);
        }

        /**
         * Envía un mensaje aleatorio por WhatsApp
         * Valida el número de teléfono y abre WhatsApp Web con el mensaje
         */
        function sendRandomMessage() {
            const phoneInput = document.getElementById('phoneNumber');
            const phoneNumber = phoneInput.value.trim();
            
            // Validar número de teléfono
            if (!phoneNumber) {
                alert('❌ Por favor ingresa un número de WhatsApp');
                return;
            }
            
            // Limpiar el número (quitar espacios, guiones, paréntesis)
            const cleanNumber = phoneNumber.replace(/[\s\-\(\)\+]/g, '');
            
            // Validar que sea un número válido
            if (!/^\d{10,15}$/.test(cleanNumber)) {
                alert('❌ Por favor ingresa un número válido (10-15 dígitos)');
                return;
            }
            
            // Generar mensajes si no existen
            if (mensajesGenerados.length === 0) {
                generateMessages();
            }
            
            // Seleccionar mensaje aleatorio
            const mensajeAleatorio = mensajesGenerados[Math.floor(Math.random() * mensajesGenerados.length)];
            
            // Mostrar vista previa
            document.getElementById('messagePreview').style.display = 'block';
            document.getElementById('previewText').textContent = mensajeAleatorio;
            
            // Codificar el mensaje para URL
            const mensajeCodificado = encodeURIComponent(mensajeAleatorio);
            
            // Crear URL de WhatsApp
            const whatsappURL = `https://wa.me/${cleanNumber}?text=${mensajeCodificado}`;
            
            // Abrir WhatsApp
            window.open(whatsappURL, '_blank');
            
            console.log('📤 Mensaje enviado a:', cleanNumber);
            console.log('💬 Contenido:', mensajeAleatorio);
        }

        // Generar mensajes automáticamente al cargar la página
        window.onload = function() {
            generateMessages();
        };
    </script>
</body>
</html>