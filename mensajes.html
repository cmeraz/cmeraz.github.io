<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Mensajes WhatsApp</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #25D366;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        input[type="text"]:focus {
            border-color: #25D366;
            outline: none;
        }
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .btn-generate {
            background-color: #25D366;
            color: white;
        }
        .btn-generate:hover {
            background-color: #128C7E;
        }
        .btn-send {
            background-color: #34B7F1;
            color: white;
        }
        .btn-send:hover {
            background-color: #2196F3;
        }
        .message-preview {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid #25D366;
            border-radius: 5px;
            display: none;
        }
        .message-preview h3 {
            margin-top: 0;
            color: #25D366;
        }
        .help-text {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        .json-output {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📱 Generador de Mensajes WhatsApp</h1>
        
        <div class="form-group">
            <label for="phoneNumber">Número de WhatsApp (con código de país):</label>
            <input type="text" id="phoneNumber" placeholder="Ejemplo: +52 1234567890 o 521234567890">
            <div class="help-text">Ingresa el número con código de país (ej: +521234567890)</div>
        </div>

        <div class="button-group">
            <button class="btn-generate" onclick="generateMessages()">🔄 Generar Mensajes</button>
            <button class="btn-send" onclick="sendRandomMessage()">📤 Enviar Mensaje Aleatorio</button>
        </div>

        <div class="message-preview" id="messagePreview">
            <h3>Vista previa del mensaje:</h3>
            <p id="previewText"></p>
        </div>

        <div class="json-output" id="jsonOutput">
            <h3>Mensajes generados (JSON):</h3>
            <pre id="jsonContent"></pre>
        </div>
    </div>

    <script>
        // Plantillas de conversación natural en español mexicano
        // Estas plantillas crean mensajes que suenan como conversaciones reales
        const plantillasConversacion = [
            {
                saludo: "Hola, buen día",
                transicion: "hoy hace un excelente día para caminar",
                conectores: ["Aprovechando que", "Por cierto", "Hablando de cosas buenas"]
            },
            {
                saludo: "¡Buenos días!",
                transicion: "espero que hayas descansado bien",
                conectores: ["Ya que estamos en contacto", "Aprovecho para contarte", "Te comento que"]
            },
            {
                saludo: "Hola, ¿cómo estás?",
                transicion: "espero que todo vaya de maravilla por allá",
                conectores: ["Por cierto", "Aprovecho la ocasión", "Te tengo una excelente noticia"]
            },
            {
                saludo: "¡Saludos!",
                transicion: "qué bonito está el día de hoy",
                conectores: ["Hablando de cosas buenas", "Te comento que", "Tengo algo que te puede interesar"]
            },
            {
                saludo: "Buen día",
                transicion: "espero que tengas una semana productiva",
                conectores: ["Precisamente para eso", "Hablando de productividad", "Te tengo algo perfecto"]
            },
            {
                saludo: "Hola",
                transicion: "que tengas una linda mañana llena de bendiciones",
                conectores: ["Y para que sea aún mejor", "Aprovecho para ofrecerte", "Te traigo una oportunidad"]
            },
            {
                saludo: "¡Buenos días!",
                transicion: "se siente la buena energía del día",
                conectores: ["Con esa misma energía", "Aprovechando las buenas vibras", "Te comento que"]
            },
            {
                saludo: "Hola, ¿qué tal?",
                transicion: "espero que hayas empezado la semana con el pie derecho",
                conectores: ["Para seguir con esa buena racha", "Hablando de empezar bien", "Te tengo algo que te gustará"]
            }
        ];

        // Catálogo de productos con información real y links de la tienda Norttek
        // Productos seleccionados de la lista proporcionada (USB, mouse, teclados, pegamentos)
        const productos = [
            // Memorias USB - Productos tecnológicos populares
            {
                nombre: "Memoria USB de 64GB",
                precio: "$110",
                descripcion: "metálica, versión 2.0, compatible con todo",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Memoria USB de 32GB",
                precio: "$95",
                descripcion: "metálica, versión 2.0, súper práctica",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Memoria USB Adata C906",
                precio: "$98",
                descripcion: "32GB, marca reconocida",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Memoria microSD 32GB",
                precio: "$90",
                descripcion: "Clase 10 Hiksemi, ideal para celular o tablet",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Memoria microSD NEO 32GB",
                precio: "$95",
                descripcion: "con adaptador incluido",
                link: "https://norttek.sicarx.shop"
            },
            // Mouse - Accesorios de computadora
            {
                nombre: "Mouse Nextep Inalámbrico",
                precio: "$145",
                descripcion: "USB negro, 1600 dpi, baterías incluidas",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse Nextep Inalámbrico Ergonómico",
                precio: "$145",
                descripcion: "USB negro, súper cómodo",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse Logitech M170",
                precio: "$325",
                descripcion: "inalámbrico color rojo, plug and play",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse Logitech M240",
                precio: "$450",
                descripcion: "inalámbrico rosa, click silencioso",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse UGREEN Ultra Delgado",
                precio: "$320",
                descripcion: "inalámbrico silencioso, varios colores",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse UGREEN Ergonómico",
                precio: "$290",
                descripcion: "inalámbrico, alcance 10m, batería incluida",
                link: "https://norttek.sicarx.shop"
            },
            // Mouse Pads
            {
                nombre: "Mouse Pad Nextep Ergonómico",
                precio: "$152",
                descripcion: "con gel color negro, súper cómodo",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Mouse Pad Nextep Individual",
                precio: "$48",
                descripcion: "6mm negro, excelente calidad",
                link: "https://norttek.sicarx.shop"
            },
            // Teclados
            {
                nombre: "Kit Teclado y Mouse Inalámbrico MK440",
                precio: "$350",
                descripcion: "Acteck, súper práctico",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Teclado Numérico Acteck TN220",
                precio: "$189",
                descripcion: "alámbrico USB negro, ideal para contabilidad",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Teclado Multidispositivo Acteck TX20",
                precio: "$369",
                descripcion: "inalámbrico Bluetooth, español",
                link: "https://norttek.sicarx.shop"
            },
            // Cables USB
            {
                nombre: "Cable USB-C a Lightning",
                precio: "$285",
                descripcion: "1 metro, MFi certificado para iPhone",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Cable USB-C a USB-C",
                precio: "$50",
                descripcion: "1 metro, carga rápida 3 Amp",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Cable USB a USB Tipo C",
                precio: "$35",
                descripcion: "1 metro, muy resistente",
                link: "https://norttek.sicarx.shop"
            },
            // Hub USB
            {
                nombre: "Hub USB-A 3.0",
                precio: "$250",
                descripcion: "UGREEN, 4 puertos USB-A 3.0",
                link: "https://norttek.sicarx.shop"
            },
            // Pegamentos - Productos de oficina esenciales
            {
                nombre: "Pegamento UHU 35ml",
                precio: "$85",
                descripcion: "súper resistente",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Pegamento UHU 125ml",
                precio: "$165",
                descripcion: "tamaño grande, rinde mucho",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Pegamento Resistol 850",
                precio: "$20",
                descripcion: "35g, el clásico",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Pegamento Kola Loka",
                precio: "$38",
                descripcion: "tubo 2g, súper práctico",
                link: "https://norttek.sicarx.shop"
            },
            {
                nombre: "Pegamento Blanco Super Kole",
                precio: "$68",
                descripcion: "440g, excelente para trabajos grandes",
                link: "https://norttek.sicarx.shop"
            }
        ];

        // Cierres de conversación - Preguntas naturales para continuar el diálogo
        const cierresConversacion = [
            "¿Tienes algún pedido pendiente para esta semana?",
            "¿Necesitas que te prepare algún producto para estos días?",
            "¿Hay algo que requieras para tu oficina o negocio esta semana?",
            "¿Tienes alguna necesidad de material que pueda ayudarte a resolver?",
            "¿Cómo vas con tus pedidos de la semana? ¿Necesitas algo más?",
            "¿Hay algún producto que tengas en mente para solicitar?",
            "¿Requieres que te cotice algo específico para tu empresa?",
            "¿Tienes algún proyecto en el que pueda apoyarte con material?",
            "¿Necesitas que te tenga listo algún pedido para entregar esta semana?",
            "¿Hay algo urgente que necesites o algún pedido que deba priorizar?"
        ];

        // Array para almacenar los mensajes generados
        let mensajesGenerados = [];

        /**
         * Genera 20 mensajes conversacionales únicos combinando plantillas, productos y cierres
         * Los mensajes se crean de forma aleatoria para que suenen naturales y no repetitivos
         */
        function generateMessages() {
            mensajesGenerados = [];
            
            // Generar 20 mensajes conversacionales únicos
            for (let i = 0; i < 20; i++) {
                // Seleccionar plantilla, producto y cierre usando módulo para distribución uniforme
                const plantilla = plantillasConversacion[i % plantillasConversacion.length];
                const producto = productos[i % productos.length];
                const cierre = cierresConversacion[i % cierresConversacion.length];
                
                // Seleccionar un conector aleatorio de la plantilla
                const conector = plantilla.conectores[Math.floor(Math.random() * plantilla.conectores.length)];
                
                // Crear mensaje conversacional fluido con link
                // Formato: Saludo + transición + conector + producto + link + cierre
                const mensaje = `${plantilla.saludo}, ${plantilla.transicion}. ${conector} tenemos ${producto.nombre} ${producto.descripcion} a ${producto.precio}. Puedes verlo aquí: ${producto.link}. ${cierre}`;
                
                mensajesGenerados.push(mensaje);
            }
            
            // Mostrar en consola como JSON para debugging
            console.log("📋 Mensajes conversacionales generados:");
            console.log(JSON.stringify(mensajesGenerados, null, 2));
            
            // Mostrar en la interfaz
            document.getElementById('jsonOutput').style.display = 'block';
            document.getElementById('jsonContent').textContent = JSON.stringify(mensajesGenerados, null, 2);
            
            // Notificar al usuario
            alert(`✅ Se han generado ${mensajesGenerados.length} mensajes conversacionales únicos. Revisa la consola del navegador para ver el JSON completo.`);
        }

        /**
         * Selecciona un mensaje aleatorio y lo envía por WhatsApp
         * Valida el número de teléfono antes de enviar
         */
        function sendRandomMessage() {
            const phoneInput = document.getElementById('phoneNumber');
            const phoneNumber = phoneInput.value.trim();
            
            // Validar que se haya ingresado un número
            if (!phoneNumber) {
                alert('❌ Por favor ingresa un número de WhatsApp');
                return;
            }
            
            // Limpiar el número (quitar espacios, guiones, paréntesis y signos +)
            const cleanNumber = phoneNumber.replace(/[\s\-\(\)\+]/g, '');
            
            // Validar que sea un número válido (10-15 dígitos)
            if (!/^\d{10,15}$/.test(cleanNumber)) {
                alert('❌ Por favor ingresa un número válido (10-15 dígitos)');
                return;
            }
            
            // Generar mensajes si no existen
            if (mensajesGenerados.length === 0) {
                generateMessages();
            }
            
            // Seleccionar mensaje aleatorio del array
            const mensajeAleatorio = mensajesGenerados[Math.floor(Math.random() * mensajesGenerados.length)];
            
            // Mostrar vista previa del mensaje
            document.getElementById('messagePreview').style.display = 'block';
            document.getElementById('previewText').textContent = mensajeAleatorio;
            
            // Codificar el mensaje para URL (espacios, caracteres especiales, etc.)
            const mensajeCodificado = encodeURIComponent(mensajeAleatorio);
            
            // Crear URL de WhatsApp con el formato wa.me
            const whatsappURL = `https://wa.me/${cleanNumber}?text=${mensajeCodificado}`;
            
            // Abrir WhatsApp en una nueva ventana/pestaña
            window.open(whatsappURL, '_blank');
            
            // Log para debugging
            console.log('📤 Mensaje enviado a:', cleanNumber);
            console.log('💬 Contenido:', mensajeAleatorio);
        }

        // Generar mensajes automáticamente al cargar la página
        // Esto asegura que siempre haya mensajes listos para enviar
        window.onload = function() {
            generateMessages();
        };
    </script>
</body>
</html>
